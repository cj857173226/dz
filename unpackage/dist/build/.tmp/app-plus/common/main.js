(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0c7d":function(e,t,o){"use strict";var n=o("feda"),i=o.n(n);i.a},"3bc2":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o("f3d3")),i=a(o("2f62")),c=a(o("8534")),r=o("3c10");function a(e){return e&&e.__esModule?e:{default:e}}n.default.use(i.default);var s=new i.default.Store({state:{isEditAddress:!1,isEditCheckIn:!1,isEditInvoiceHead:!1,isEditUserInfo:!1,isEditStatistics:!1,isEditReleaseInfo:!1,isEditCheck:!1,socketOpen:!1,chatList:[],totalCount:0,socketError:!1,socketLoading:!1,socketCount:0,socketMax:5,socketObj:null,socketOnopen:null,socketOnmessage:null,socketOnonclose:null,socketOnerror:null,socketSatus:"",socketTimer:null,initCreateHouseInfo:{xz_province:"",xz_city:"",xz_district:"",xz_address:"",xz_number:"",leasetype:""},createHouseInfo:{xz_province:"",xz_city:"",xz_district:"",xz_address:"",xz_number:"",leasetype:""},initReleaseObj:{id:"",title:"",titlepic:"",xz_zb:"",xz_province:"",xz_city:"",xz_district:"",xz_address:"",xz_number:"",xz_local:"",leasetype:"",tantnum:"",roomtype_shi:"0",roomtype_ting:"0",roomtype_wei:"0",roomtype_chu:"0",roomtype_yt:"0",area:"",sameroom:"0",toilet:"",livetogether:"",bed:"",bedsheet:"",roomServiceIntro:"",roomRoominnerIntro:"",roomLocationIntro:"",roomAroundIntro:"",sb_list:[],dayrentprice:"",cashpledge:"",addtenant:"",addtionalprice:"",crvp:"",crvn:"",crva:"",minday:"",maxday:"",foreigner:"",userule:"",hiddentips:"",pics:"",renzheng:"",addtenanttips:"",status:-1,daohang:"",is_complete:0},releaseObj:{id:"",title:"",titlepic:"",xz_zb:"",xz_province:"",xz_city:"",xz_district:"",xz_address:"",xz_number:"",xz_local:"",leasetype:"",tantnum:"",roomtype_shi:"0",roomtype_ting:"0",roomtype_wei:"0",roomtype_chu:"0",roomtype_yt:"0",area:"",sameroom:"0",toilet:"",livetogether:"",bed:"",bedsheet:"",roomServiceIntro:"",roomRoominnerIntro:"",roomLocationIntro:"",roomAroundIntro:"",sb_list:[],dayrentprice:"",cashpledge:"",addtenant:"",addtionalprice:"",crvp:"",crvn:"",crva:"",minday:"1",maxday:"",foreigner:"",userule:"",hiddentips:"",pics:"",renzheng:"",addtenanttips:"",status:-1,daohang:"",is_complete:0},customBedOption:null,curBedOption:null,addCheckin:[]},mutations:{addressEditStatus:function(e,t){e.isEditAddress=t},checkInEditStatus:function(e,t){e.isEditCheckIn=t},invoiceHeadEditStatus:function(e,t){e.isEditInvoiceHead=t},isUserInfoEditStatus:function(e,t){e.isEditUserInfo=t},statisticsEditStatus:function(e,t){e.isEditStatistics=t},editCreateHouseInfo:function(e,t){for(var o in t)e.createHouseInfo.hasOwnProperty(o)&&(e.createHouseInfo[o]=t[o])},clearCreateHouseInfo:function(e){e.createHouseInfo=c.default.deepCopy(e.initCreateHouseInfo)},editReleaseInfo:function(e,t){for(var o in t)e.releaseObj.hasOwnProperty(o)&&(e.releaseObj[o]=t[o])},clearReleaseInfo:function(e){e.releaseObj=c.default.deepCopy(e.initReleaseObj)},editReleaseInfoStatus:function(e,t){e.isEditReleaseInfo=t},eidtCustomBedOption:function(e,t){e.customBedOption=t},clearCustomBedOption:function(e){e.customBedOption=null},eidtCurBedOption:function(e,t){e.curBedOption=t},clearCurBedOption:function(e){e.curBedOption=null},checkIn:function(e,t){e.addCheckin=t},createChatSocket:function(t){var o=this;t.socketObj=e.connectSocket({url:"ws://woker.abontest.com:7272",success:function(){t.socketLoading,t.socketLoading=!1,t.socketError=!1},complete:function(){}}),t.socketSatus=t.socketObj.readyState,t.socketObj.onOpen(function(o){var n=e.getStorageSync("dz_userInfo"),i=n.userid,c={type:"login",client_user_id:i};t.socketObj.send({data:JSON.stringify(c),success:function(){console.log("登录"),t.socketOpen=!0},fail:function(){},complete:function(e){}})}),t.socketObj.onClose(function(){t.socketOpen=!1,t.socketError=!0,console.log("WebSocket 断开连接"),o.commit("reconnectChat")}),t.socketObj.onMessage(function(e){var o=JSON.parse(e.data);if("list"===o.type){var n=0,i=o.list?o.list:[];i.length>0&&i.map(function(e,t,o){n+=e.read_count,o[t]["title"]=e.realname,o[t]["url"]=r.shortHttp+e.userpic,o[t]["count"]=e.read_count,o[t]["time"]=e.msg_time,o[t]["stick"]=!1,o[t]["disabled"]=!0,o[t]["message"]=e.message?e.message.content:""}),t.totalCount=n,t.chatList=i}})},reconnectChat:function(e){e.socketCount+=1,e.socketLoading=!0;var t=this,o=e.socketMax;e.socketCount>=o?(e.socketCount=0,e.socketLoading=!1):setTimeout(function(){t.commit("createChatSocket"),console.log("重连")},2e3)}}}),u=s;t.default=u}).call(this,o("6e42")["default"])},5892:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(o("8534"));var n=o("2f62");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){r(e,t,o[t])})}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var a={data:function(){return{}},computed:{},onLaunch:function(){console.log("App Launch");var t=e.getStorageSync("dz_token");t?this.createChatSocket():setTimeout(function(){e.reLaunch({url:"/pages/login/login"})},0)},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")},methods:c({},(0,n.mapMutations)(["createChatSocket","chatconnection"]))};t.default=a}).call(this,o("6e42")["default"])},"5ff5":function(e,t,o){"use strict";o.r(t);var n=o("c274");for(var i in n)"default"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);o("0c7d");var c,r,a=o("2877"),s=Object(a["a"])(n["default"],c,r,!1,null,null,null);t["default"]=s.exports},c274:function(e,t,o){"use strict";o.r(t);var n=o("5892"),i=o.n(n);for(var c in n)"default"!==c&&function(e){o.d(t,e,function(){return n[e]})}(c);t["default"]=i.a},d87f:function(e,t,o){"use strict";o("83ff");var n=r(o("f3d3")),i=r(o("5ff5")),c=r(o("3bc2"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){s(e,t,o[t])})}return e}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}n.default.prototype.$store=c.default,n.default.config.productionTip=!1,i.default.mpType="app";var u=new n.default(a({},i.default));u.$mount()},feda:function(e,t,o){}},[["d87f","common/runtime","common/vendor"]]]);