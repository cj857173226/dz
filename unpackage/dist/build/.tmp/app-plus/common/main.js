(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0c7d":function(e,t,n){"use strict";var o=n("feda"),i=n.n(o);i.a},"3bc2":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=s(n("f3d3")),c=s(n("2f62")),r=s(n("8534")),a=n("3c10");function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default.use(c.default);var l=new c.default.Store({state:{isEditAddress:!1,isEditCheckIn:!1,isEditInvoiceHead:!1,isEditUserInfo:!1,isEditStatistics:!1,isEditReleaseInfo:!1,isEditCheck:!1,socketOpen:!1,chatList:[],totalCount:0,socketError:!1,socketLoading:!1,socketCount:0,socketMax:5,socketObj:null,socketOnopen:null,socketOnmessage:null,socketOnonclose:null,socketOnerror:null,socketSatus:"",socketTimer:null,initCreateHouseInfo:{xz_province:"",xz_city:"",xz_district:"",xz_address:"",xz_number:"",leasetype:""},createHouseInfo:{xz_province:"",xz_city:"",xz_district:"",xz_address:"",xz_number:"",leasetype:""},initReleaseObj:(o={id:"",title:"",titlepic:""},u(o,"titlepic",""),u(o,"xz_zb",""),u(o,"xz_province",""),u(o,"xz_city",""),u(o,"xz_district",""),u(o,"xz_address",""),u(o,"xz_number",""),u(o,"xz_local",""),u(o,"leasetype",""),u(o,"tantnum",""),u(o,"roomtype_shi","0"),u(o,"roomtype_ting","0"),u(o,"roomtype_wei","0"),u(o,"roomtype_chu","0"),u(o,"roomtype_yt","0"),u(o,"area",""),u(o,"sameroom","0"),u(o,"toilet",""),u(o,"livetogether",""),u(o,"bed",""),u(o,"bedsheet",""),u(o,"roomServiceIntro",""),u(o,"roomRoominnerIntro",""),u(o,"roomLocationIntro",""),u(o,"roomAroundIntro",""),u(o,"sb_list",[]),u(o,"dayrentprice",""),u(o,"cashpledge",""),u(o,"addtenant",""),u(o,"addtionalprice",""),u(o,"crvp",""),u(o,"crvn",""),u(o,"crva",""),u(o,"minday",""),u(o,"maxday",""),u(o,"foreigner",""),u(o,"userule",""),u(o,"hiddentips",""),u(o,"pics",""),u(o,"renzheng",""),u(o,"addtenanttips",""),u(o,"status",-1),u(o,"daohang",""),u(o,"is_complete",0),o),releaseObj:{id:"",title:"",titlepic:"",xz_zb:"",xz_province:"",xz_city:"",xz_district:"",xz_address:"",xz_number:"",xz_local:"",leasetype:"",tantnum:"",roomtype_shi:"0",roomtype_ting:"0",roomtype_wei:"0",roomtype_chu:"0",roomtype_yt:"0",area:"",sameroom:"0",toilet:"",livetogether:"",bed:"",bedsheet:"",roomServiceIntro:"",roomRoominnerIntro:"",roomLocationIntro:"",roomAroundIntro:"",sb_list:[],dayrentprice:"",cashpledge:"",addtenant:"",addtionalprice:"",crvp:"",crvn:"",crva:"",minday:"1",maxday:"",foreigner:"",userule:"",hiddentips:"",pics:"",renzheng:"",addtenanttips:"",status:-1,daohang:"",is_complete:0},customBedOption:null,curBedOption:null,addCheckin:[],startTime:"",endTime:""},mutations:{startTimeStatus:function(e,t){e.startTime=t,console.log(e,t)},endTimeStatus:function(e,t){e.endTime=t},addressEditStatus:function(e,t){e.isEditAddress=t},checkInEditStatus:function(e,t){e.isEditCheckIn=t},invoiceHeadEditStatus:function(e,t){e.isEditInvoiceHead=t},isUserInfoEditStatus:function(e,t){e.isEditUserInfo=t},statisticsEditStatus:function(e,t){e.isEditStatistics=t},editCreateHouseInfo:function(e,t){for(var n in t)e.createHouseInfo.hasOwnProperty(n)&&(e.createHouseInfo[n]=t[n])},clearCreateHouseInfo:function(e){e.createHouseInfo=r.default.deepCopy(e.initCreateHouseInfo)},editReleaseInfo:function(e,t){for(var n in t)e.releaseObj.hasOwnProperty(n)&&(e.releaseObj[n]=t[n])},clearReleaseInfo:function(e){e.releaseObj=r.default.deepCopy(e.initReleaseObj)},editReleaseInfoStatus:function(e,t){e.isEditReleaseInfo=t},eidtCustomBedOption:function(e,t){e.customBedOption=t},clearCustomBedOption:function(e){e.customBedOption=null},eidtCurBedOption:function(e,t){e.curBedOption=t},clearCurBedOption:function(e){e.curBedOption=null},checkIn:function(e,t){e.addCheckin=t},createChatSocket:function(t){var n=this;t.socketObj=e.connectSocket({url:"ws://woker.abontest.com:7272",success:function(){t.socketLoading,t.socketLoading=!1,t.socketError=!1},complete:function(){}}),t.socketSatus=t.socketObj.readyState,t.socketObj.onOpen(function(n){var o=e.getStorageSync("dz_userInfo"),i=o.userid,c={type:"login",client_user_id:i};t.socketObj.send({data:JSON.stringify(c),success:function(){console.log("登录"),t.socketOpen=!0},fail:function(){},complete:function(e){}})}),t.socketObj.onClose(function(){t.socketOpen=!1,t.socketError=!0,console.log("WebSocket 断开连接"),n.commit("reconnectChat")}),t.socketObj.onMessage(function(e){var n=JSON.parse(e.data);if("list"===n.type){var o=0,i=n.list?n.list:[];i.length>0&&i.map(function(e,t,n){o+=e.read_count,n[t]["title"]=e.realname,n[t]["url"]=e.userpic?a.shortHttp+e.userpic:"",n[t]["count"]=e.read_count,n[t]["time"]=e.msg_time,n[t]["stick"]=!1,n[t]["disabled"]=!0,n[t]["message"]=e.message?e.message.content:""}),t.totalCount=o,t.chatList=i}})},reconnectChat:function(e){e.socketCount+=1,e.socketLoading=!0;var t=this,n=e.socketMax;e.socketCount>=n?(e.socketCount=0,e.socketLoading=!1):setTimeout(function(){t.commit("createChatSocket"),console.log("重连")},2e3)}}}),d=l;t.default=d}).call(this,n("6e42")["default"])},5892:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n("8534"));var o=n("2f62");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={data:function(){return{}},computed:{},onLaunch:function(){console.log("App Launch");var t=e.getStorageSync("dz_token");t?this.createChatSocket():setTimeout(function(){e.reLaunch({url:"/pages/login/login"})},0)},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")},methods:c({},(0,o.mapMutations)(["createChatSocket","chatconnection"]))};t.default=a}).call(this,n("6e42")["default"])},"5ff5":function(e,t,n){"use strict";n.r(t);var o=n("c274");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("0c7d");var c,r,a=n("2877"),s=Object(a["a"])(o["default"],c,r,!1,null,null,null);t["default"]=s.exports},c274:function(e,t,n){"use strict";n.r(t);var o=n("5892"),i=n.n(o);for(var c in o)"default"!==c&&function(e){n.d(t,e,function(){return o[e]})}(c);t["default"]=i.a},d87f:function(e,t,n){"use strict";n("83ff");var o=r(n("f3d3")),i=r(n("5ff5")),c=r(n("3bc2"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default.prototype.$store=c.default,o.default.config.productionTip=!1,i.default.mpType="app";var u=new o.default(a({},i.default));u.$mount()},feda:function(e,t,n){}},[["d87f","common/runtime","common/vendor"]]]);