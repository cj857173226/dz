(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/releaseManage/releaseManage"],{"253a":function(t,e,a){},"296a":function(t,e,a){"use strict";a.r(e);var s=a("2bee"),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);e["default"]=n.a},"2bee":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("2f62"),n=a("ad14"),i=l(a("57ad")),o=a("a1f6");function l(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),s.forEach(function(e){c(t,e,a[e])})}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r={data:function(){return{host:o.shortHttp,listData:[]}},onLoad:function(t){this.getHouseLists()},onShow:function(){this.isEditReleaseInfo&&this.getHouseLists(),this.clearReleaseInfo(),this.editReleaseInfoStatus(!1)},onNavigationBarButtonTap:function(e){0===e.index&&(this.clearCreateHouseInfo(),t.navigateTo({url:"/pages/releaseManage/local_set?type=add"}))},computed:u({},(0,s.mapState)(["isEditReleaseInfo"])),methods:u({},(0,s.mapMutations)(["editCreateHouseInfo","clearCreateHouseInfo","editReleaseInfo","clearReleaseInfo","editReleaseInfoStatus"]),{getHouseLists:function(){var e=this;t.showLoading({mask:!0,title:""}),(0,n.request)({url:"/wap/api/fangdong.php?action=houseList",method:"GET",success:function(a){if("success"===a.data.status){var s=a.data.content;s.map(function(t,e,a){a[e]["xz_local"]=t.xz_province+t.xz_city+t.xz_district+"  "+t.xz_address+"  "+t.xz_number}),e.listData=s,t.hideLoading()}else i.default.layer()},complete:function(){}})},editLocal:function(e){this.clearReleaseInfo(),this.editReleaseInfo(e),t.navigateTo({url:"/pages/releaseManage/local_set?type=edit"})},editHouseInfo:function(e){this.clearReleaseInfo(),this.editReleaseInfo(e),this.editReleaseInfoStatus(!1),t.navigateTo({url:"/pages/releaseManage/house_detail"})},previewHouse:function(e){e.status;var a=e.is_complete;console.log(a,typeof a),"0"===a?t.showModal({title:"",content:"完善房源信息后才可预览",confirmText:"知道了",showCancel:!1,success:function(t){}}):(this.clearReleaseInfo(),this.editReleaseInfo(e),this.editReleaseInfoStatus(!1),t.navigateTo({url:"/pages/releaseManage/preview_house"}))}})};e.default=r}).call(this,a("6e42")["default"])},"5c26":function(t,e,a){"use strict";var s=a("253a"),n=a.n(s);n.a},a127:function(t,e,a){"use strict";a("fd37");var s=i(a("b0ce")),n=i(a("f2b6"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(n.default))},a3fe:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"releaseManage_page"},[t.listData.length>0?a("view",{staticClass:"house_list"},t._l(t.listData,function(e,s){return a("view",{key:s,staticClass:"list_item",attrs:{eventid:"f7381fce-3-"+s},on:{tap:function(a){a.stopPropagation(),t.previewHouse(e)}}},[a("view",{staticClass:"item_head"},[a("view",{staticClass:"hous_local"},[a("text",{staticClass:"iconfont icon-dizhi-01 "}),t._v(t._s(e.xz_local))]),-1==e.status||2==e.status?a("button",{staticClass:"modify_local_btn",attrs:{eventid:"f7381fce-0-"+s},on:{tap:function(a){t.editLocal(e)}}},[t._v("修改地址")]):t._e()],1),a("view",{staticClass:"item_body"},[e.titlepic?a("img",{staticClass:"house_pic",attrs:{src:t.host+e.titlepic,alt:""}}):t._e(),e.titlepic?t._e():a("view",{staticClass:"no_pic"},[t._v("无房源图片")]),a("view",{staticClass:"rent-status"},[t._v(t._s(e.state))])]),a("view",{staticClass:"item_foot"},[a("view",{staticClass:"foot_left"},[""===e.title?a("view",{staticClass:"no_title"},[t._v("未完成发布的房源")]):a("view",{staticClass:"house_title"},[t._v(t._s(e.title))]),a("view",{staticClass:"rent-type"},[1==e.leasetype?a("view",[t._v("整套出租")]):2==e.leasetype?a("view",[t._v("独立房间")]):3==e.leasetype?a("view",[t._v("合住房间")]):t._e()])]),0==e.status||1==e.status?a("button",{staticClass:"house-handle-btn upper-shelf-btn",attrs:{eventid:"f7381fce-1-"+s},on:{tap:function(a){a.stopPropagation(),t.editHouseInfo(e)}}},[t._v("查看房源")]):t._e(),-1==e.status||2==e.status?a("button",{staticClass:"house-handle-btn house-update-btn",attrs:{eventid:"f7381fce-2-"+s},on:{tap:function(a){a.stopPropagation(),t.editHouseInfo(e)}}},[t._v("编辑房源")]):t._e()],1)])})):t._e(),0===t.listData.length?a("view",{staticClass:"no_list"},[t._v("暂无房源")]):t._e()])},n=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},a5c5:function(t,e,a){},d0dd:function(t,e,a){"use strict";var s=a("a5c5"),n=a.n(s);n.a},f2b6:function(t,e,a){"use strict";a.r(e);var s=a("a3fe"),n=a("296a");for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);a("d0dd"),a("5c26");var o=a("2877"),l=Object(o["a"])(n["default"],s["a"],s["b"],!1,null,"35c1796d",null);e["default"]=l.exports}},[["a127","common/runtime","common/vendor"]]]);