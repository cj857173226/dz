(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/releaseManage/local_set"],{"23e8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"local_set_page"},[a("view",{staticClass:"local_form"},[a("view",{staticClass:"form_item",attrs:{eventid:"83e2a84a-0"},on:{tap:function(e){t.cityPickerShow()}}},[a("view",{staticClass:"left"},[a("view",{staticClass:"label"},[t._v("地区")]),""===t.local?a("view",{staticClass:"empty_data"},[t._v("请选择")]):t._e(),""!==t.local?a("view",{staticClass:"content"},[t._v(t._s(t.local))]):t._e()]),t._m(0)]),a("view",{staticClass:"form_item"},[a("view",{staticClass:"left"},[a("view",{staticClass:"label"},[t._v("详细地址")]),a("view",{staticClass:"textarea_wrap"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{placeholder:"请填写","placeholder-class":"placeholder",maxlength:"100",eventid:"83e2a84a-1"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),a("view",{staticClass:"word_num"},[a("text",{staticClass:"cur",domProps:{textContent:t._s(t.address.length)}}),t._v("/100")])]),a("view",{staticClass:"tips"},[t._v("无需再填写省市。例:中山路阳光小区8号楼2单元")])])]),a("view",{staticClass:"form_item"},[a("view",{staticClass:"left"},[a("view",{staticClass:"label"},[t._v("门牌号")]),a("view",{staticClass:"textarea_wrap"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{placeholder:"请填写门牌号","placeholder-class":"placeholder",maxlength:"50",eventid:"83e2a84a-2"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}}),a("view",{staticClass:"word_num"},[a("text",{staticClass:"cur",domProps:{textContent:t._s(t.number.length)}}),t._v("/50")])]),a("view",{staticClass:"tips"},[t._v("房客预定成功后可见。例:201室")])])])]),"add"===t.type?a("button",{staticClass:"my-btn-block",class:{dis_btn:t.btnIsDis},staticStyle:{"margin-top":"40rpx"},attrs:{eventid:"83e2a84a-3"},on:{tap:t.completeLocal}},[t._v("下一步")]):t._e(),"edit"===t.type?a("button",{staticClass:"my-btn-block",class:{dis_btn:t.btnIsDis},staticStyle:{"margin-top":"40rpx"},attrs:{eventid:"83e2a84a-4"},on:{tap:t.save}},[t._v("保存")]):t._e(),a("mpvue-city-picker",{ref:"localPicker",attrs:{pickerValueDefault:t.cityVlue,eventid:"83e2a84a-5",mpcomid:"83e2a84a-0"},on:{onCancel:t.onCancel,onConfirm:t.onConfirm}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"after_icon"},[a("text",{staticClass:"iconfont icon-right"})])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},"430b":function(t,e,a){"use strict";a.r(e);var i=a("456c"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},"456c":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("07e7")),s=a("2f62"),n=r(a("57ad")),c=a("ad14");function r(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){l(t,e,a[e])})}return t}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={data:function(){return{type:"",province:"",city:"",district:"",address:"",number:"",cityVlue:[0,0,0],isSubmiting:!1}},onLoad:function(t){t.type&&(this.type=t.type),"edit"===this.type&&(this.province=this.releaseObj.xz_province,this.city=this.releaseObj.xz_city,this.district=this.releaseObj.xz_district,this.address=this.releaseObj.xz_address,this.number=this.releaseObj.xz_number),this.cityVlue=n.default.getLocalDefaultValue(this.province,this.city,this.district)},onShow:function(){},components:{mpvueCityPicker:i.default},computed:o({},(0,s.mapState)(["createHouseInfo","releaseObj"]),{local:{get:function(){return""===this.province||""===this.city||""===this.district?"":this.province+"-"+this.city+"-"+this.district}},btnIsDis:{get:function(){return""===this.local||""===this.address||""===this.number}}}),methods:o({},(0,s.mapMutations)(["editCreateHouseInfo","editReleaseInfo","clearReleaseInfo","editReleaseInfoStatus"]),{cityPickerShow:function(){this.$refs.localPicker.show()},onConfirm:function(t){var e=t.label.split("-");this.province=e[0],this.city=e[1],this.district=e[2],this.cityVlue=n.default.getLocalDefaultValue(e[0],e[1],e[2])},onCancel:function(t){},completeLocal:function(){if("add"===this.type&&""!==this.local&&""!==this.address&&""!==this.number){var e=this,a=(e.local,e.province),i=e.city,s=e.district,n=e.address,c=e.number;"add"===this.type?(e.editCreateHouseInfo({xz_province:a,xz_city:i,xz_district:s,xz_address:n,xz_number:c}),t.redirectTo({url:"/pages/releaseManage/rent_type?type=add"})):"edit"===this.type&&console.log("保存")}},save:function(){if("edit"===this.type&&!this.isSubmiting){var e=this,a=e.releaseObj.id,i=e.province,s=e.city,r=e.district,o=e.address,l=e.number,u={house_id:a,xz_province:i,xz_city:s,xz_district:r,xz_address:o,xz_number:l};e.isSubmiting=!0,(0,c.request)({url:"/wap/api/fangdong.php?action=improveHouse",method:"POST",data:u,success:function(a){if("success"===a.data.status){var i=a.data.content;e.editReleaseInfo(i),e.editReleaseInfoStatus(!0),t.navigateBack({delta:1})}else n.default.layer(a.data.errorMsg)},complete:function(){e.isSubmiting=!1}})}}})};e.default=u}).call(this,a("6e42")["default"])},"4bcd":function(t,e,a){},"53bc":function(t,e,a){"use strict";var i=a("4bcd"),s=a.n(i);s.a},"5c89":function(t,e,a){"use strict";a("fd37");var i=n(a("b0ce")),s=n(a("b825"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},b825:function(t,e,a){"use strict";a.r(e);var i=a("23e8"),s=a("430b");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("53bc"),a("c54c");var c=a("2877"),r=Object(c["a"])(s["default"],i["a"],i["b"],!1,null,"e0285f2e",null);e["default"]=r.exports},c54c:function(t,e,a){"use strict";var i=a("c754"),s=a.n(i);s.a},c754:function(t,e,a){}},[["5c89","common/runtime","common/vendor"]]]);