(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/releaseManage/house_detail"],{"070f":function(e,t,s){"use strict";s("83ff");var a=n(s("b0ce")),i=n(s("a877"));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,a.default)(i.default))},"22cb":function(e,t,s){"use strict";s.r(t);var a=s("2417"),i=s.n(a);for(var n in a)"default"!==n&&function(e){s.d(t,e,function(){return a[e]})}(n);t["default"]=i.a},2417:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s("2f62"),i=s("942f"),n=o(s("8534"));s("3c10");function o(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){l(e,t,s[t])})}return e}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var r={data:function(){return{pageType:"",houseInfo:{},isDeling:!1,isAgree:!1,basicComplete:!1,bedComplete:!1,houseDescComplete:!1,facilitiesComplete:!1,priceComplete:!1,pictureComplete:!1}},onLoad:function(e){e.type&&(this.pageType=e.type)},onShow:function(){this.houseInfo=this.releaseObj,this.checkoutHouseInfo()},onBackPress:function(e){},computed:c({},(0,a.mapState)(["releaseObj","isEditReleaseInfo"]),{isReleaseHouse:{get:function(){return!!(this.isAgree&&this.basicComplete&&this.bedComplete&&this.houseDescComplete&&this.facilitiesComplete&&this.priceComplete&&this.pictureComplete)}}}),methods:c({},(0,a.mapMutations)(["editReleaseInfo","clearReleaseInfo","editReleaseInfoStatus"]),{pageTo:function(t,s){var a="";if(s){var i=JSON.stringify(s);a="/pages/releaseManage/"+t+"?param"+i}else a="/pages/releaseManage/"+t;e.navigateTo({url:a})},agreeChange:function(e){this.isAgree=e.detail.value},checkoutHouseInfo:function(){var e=this.releaseObj.id,t=this;(0,i.request)({url:"/wap/api/fangdong.php?action=checkHouseInfo&house_id="+e,success:function(e){if("success"===e.data.status){var s=e.data.content;t.basicComplete=1===s.simple,t.bedComplete=1===s.bed,t.houseDescComplete=1===s.description,t.facilitiesComplete=1===s.facilities,t.priceComplete=1===s.money,t.pictureComplete=1===s.picture}else n.default.layer("验证房源信息失败")},complete:function(){}})},editRentType:function(){e.navigateTo({url:"/pages/releaseManage/rent_type?type=edit"})},editLocal:function(){e.navigateTo({url:"/pages/releaseManage/local_set?type=edit"})},deleteHouse:function(){if(!this.isDeling){var t=this,s=t.houseInfo.id;e.showModal({title:"删除",content:"是否要删除该房源",confirmText:"删除",confirmColor:"#F05B72",success:function(a){t.isDeling=!0,a.confirm?(e.showLoading({mask:!0,title:"删除中..."}),(0,i.request)({url:"/wap/api/fangdong.php?action=destroyHouse&house_id="+s,success:function(s){"success"===s.data.status?(e.hideLoading(),t.editReleaseInfoStatus(!0),e.navigateBack({delta:1})):n.default.layer(s.data.errorMsg)},complete:function(){t.isDeling=!1}})):a.cancel}})}}})};t.default=r}).call(this,s("6e42")["default"])},"6fa8":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"house_detail_page"},[s("view",{staticClass:"house_status"},[e._v("未完成")]),s("view",{staticClass:"house_detail_form"},[s("view",{staticClass:"form_item",attrs:{eventid:"ae0cfbd8-0"},on:{tap:function(t){e.pageTo("house_basic_info/house_basic_info")}}},[s("view",{staticClass:"label"},[e._v("基本信息")]),s("view",{staticClass:"ipt"},[e.basicComplete?e._e():s("view",{staticClass:"empty"},[e._v("未完成")]),s("view",{staticClass:"data_box"})]),e._m(0)]),s("view",{staticClass:"form_item",attrs:{eventid:"ae0cfbd8-1"},on:{tap:function(t){e.pageTo("bed_info/bed_info")}}},[s("view",{staticClass:"label"},[e._v("床铺信息")]),s("view",{staticClass:"ipt"},[e.bedComplete?e._e():s("view",{staticClass:"empty"},[e._v("未完成")]),s("view",{staticClass:"data_box"})]),e._m(1)]),s("view",{staticClass:"form_item",attrs:{eventid:"ae0cfbd8-2"},on:{tap:function(t){e.pageTo("house_describe/house_describe")}}},[s("view",{staticClass:"label"},[e._v("房间描述")]),s("view",{staticClass:"ipt"},[e.houseDescComplete?e._e():s("view",{staticClass:"empty"},[e._v("未完成")]),s("view",{staticClass:"data_box"})]),e._m(2)]),s("view",{staticClass:"form_item",attrs:{eventid:"ae0cfbd8-3"},on:{tap:function(t){e.pageTo("house_facilities/house_facilities")}}},[s("view",{staticClass:"label"},[e._v("配套设施")]),s("view",{staticClass:"ipt"},[e.facilitiesComplete?e._e():s("view",{staticClass:"empty"},[e._v("未完成")]),s("view",{staticClass:"data_box"})]),e._m(3)]),s("view",{staticClass:"form_item",attrs:{eventid:"ae0cfbd8-4"},on:{tap:function(t){e.pageTo("price_rule/price_rule")}}},[s("view",{staticClass:"label"},[e._v("价格规则")]),s("view",{staticClass:"ipt"},[e.priceComplete?e._e():s("view",{staticClass:"empty"},[e._v("未完成")]),s("view",{staticClass:"data_box"})]),e._m(4)]),s("view",{staticClass:"form_item",attrs:{eventid:"ae0cfbd8-5"},on:{tap:function(t){e.pageTo("room_photograph/room_photograph")}}},[s("view",{staticClass:"label"},[e._v("房间照片")]),s("view",{staticClass:"ipt"},[e.pictureComplete?e._e():s("view",{staticClass:"empty"},[e._v("未完成")]),s("view",{staticClass:"data_box"})]),e._m(5)]),s("view",{staticClass:"form_item",attrs:{eventid:"ae0cfbd8-6"},on:{tap:function(t){e.editRentType()}}},[s("view",{staticClass:"label"},[e._v("出租类型")]),s("view",{staticClass:"ipt"},[e.houseInfo.leasetype?e._e():s("view",{staticClass:"empty"},[e._v("未完成")]),e.houseInfo.leasetype?s("view",{staticClass:"data_box"},["1"===e.houseInfo.leasetype?s("text",[e._v("整套房屋")]):e._e(),"2"===e.houseInfo.leasetype?s("text",[e._v("独立房间")]):e._e(),"3"===e.houseInfo.leasetype?s("text",[e._v("合住房间")]):e._e()]):e._e()]),e._m(6)]),s("view",{staticClass:"form_item",attrs:{eventid:"ae0cfbd8-7"},on:{tap:function(t){e.editLocal()}}},[s("view",{staticClass:"label"},[e._v("房源地址")]),s("view",{staticClass:"ipt"},[e.houseInfo.xz_local?e._e():s("view",{staticClass:"empty"},[e._v("未完成")]),s("view",{staticClass:"data_box"})]),e._m(7)]),s("view",{staticClass:"form_item"},[e._m(8),s("view",{staticClass:"ipt"},[s("switch",{staticClass:"o-switch",attrs:{color:"#F05B72",checked:e.isAgree,eventid:"ae0cfbd8-8"},on:{change:e.agreeChange}})])])]),s("view",{staticClass:"bottom_wrap"},[s("view",{staticClass:"del_house",attrs:{eventid:"ae0cfbd8-9"},on:{tap:function(t){e.deleteHouse()}}},[e._v("删除房源")])]),s("button",{staticClass:"release_btn my-btn-block",class:{dis_btn:!e.isReleaseHouse}},[e._v("马上发布")])],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"after_icon"},[s("text",{staticClass:"iconfont icon-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"after_icon"},[s("text",{staticClass:"iconfont icon-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"after_icon"},[s("text",{staticClass:"iconfont icon-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"after_icon"},[s("text",{staticClass:"iconfont icon-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"after_icon"},[s("text",{staticClass:"iconfont icon-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"after_icon"},[s("text",{staticClass:"iconfont icon-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"after_icon"},[s("text",{staticClass:"iconfont icon-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"after_icon"},[s("text",{staticClass:"iconfont icon-right"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"content"},[e._v("我已经阅读并同意"),s("text",[e._v("《房东规则》")]),s("text",[e._v("《房源上线标准》")])])}];s.d(t,"a",function(){return a}),s.d(t,"b",function(){return i})},"7fc6":function(e,t,s){},a877:function(e,t,s){"use strict";s.r(t);var a=s("6fa8"),i=s("22cb");for(var n in i)"default"!==n&&function(e){s.d(t,e,function(){return i[e]})}(n);s("db4c"),s("ead6");var o=s("2877"),c=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"56af03ac",null);t["default"]=c.exports},db4c:function(e,t,s){"use strict";var a=s("7fc6"),i=s.n(a);i.a},e6e8:function(e,t,s){},ead6:function(e,t,s){"use strict";var a=s("e6e8"),i=s.n(a);i.a}},[["070f","common/runtime","common/vendor"]]]);