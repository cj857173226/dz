(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/releaseManage/bed_info/add_bed"],{1410:function(t,e,i){"use strict";i.r(e);var n=i("9f41"),s=i("8ac4");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);i("1518"),i("1aa9");var a=i("2877"),u=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"e3021704",null);e["default"]=u.exports},1518:function(t,e,i){"use strict";var n=i("73ae"),s=i.n(n);s.a},"1a79":function(t,e,i){"use strict";i("83ff");var n=o(i("b0ce")),s=o(i("1410"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(s.default))},"1aa9":function(t,e,i){"use strict";var n=i("b926"),s=i.n(n);s.a},"65c7":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("2f62"),s=i("942f"),o=a(i("8534"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){d(t,e,i[e])})}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={data:function(){return{house_id:"",defaultBedOptions:[{option:1,length:"2.0",type:"double",weight:"1.8"},{option:2,length:"2.0",type:"single",weight:"1.2"},{option:3,length:"2.0",type:"double",weight:"1.8"},{option:4,length:"1.8",type:"single",weight:"1.8"},{option:5,length:"2.0",type:"double",weight:"1.5"},{option:6,length:"1.8",type:"single",weight:"1.0"}],curActiveBedOption:null,CustomBedOption:null,bedNumber:1,isSubmiting:!1}},onLoad:function(){},onShow:function(){this.getCustomBed()},computed:u({},(0,n.mapState)(["releaseObj","customBedOption","curBedOption"])),methods:u({},(0,n.mapMutations)(["editReleaseInfo","clearReleaseInfo","editReleaseInfoStatus","eidtCurBedOption"]),{checkBedOption:function(t){this.eidtCurBedOption(t),this.curActiveBedOption=this.curBedOption},checkBedNumber:function(t){if(0==t){if(this.bedNumber<=1)return;this.$set(this,"bedNumber",Number(this.bedNumber)-1)}else if(1==t){if(this.bedNumber>=99)return;this.$set(this,"bedNumber",Number(this.bedNumber)+1)}},submitAddBed:function(){if(this.curActiveBedOption&&!this.isSubmiting){var e=this,i=this.house_id,n=this.curActiveBedOption,a=this.releaseObj.bed?this.releaseObj.bed:[],u={type:n.type,length:n.length,weight:n.weight,num:e.bedNumber};a.unshift(u);var d=JSON.stringify(a);e.isSubmiting=!0,t.showLoading({title:"添加床铺..",mask:!0}),(0,s.request)({url:"/wap/api/fangdong.php?action=improveHouse",method:"POST",data:{house_id:i,bed:d},success:function(i){if("success"===i.data.status){var n=i.data.content;e.editReleaseInfo(n),e.editReleaseInfoStatus(!0),t.hideLoading(),t.navigateBack({delta:1})}else o.default.layer("添加失败")},complete:function(){e.isSubmiting=!1}})}},otherBed:function(e,i){var n="",s="";i&&(s=JSON.stringify(i)),"add"===e?n="/pages/releaseManage/bed_info/other_bed?type=add":"edit"===e&&(n="/pages/releaseManage/bed_info/other_bed?type=edit&param="+s),t.navigateTo({url:n})},getCustomBed:function(){this.house_id=this.releaseObj.id,this.CustomBedOption=this.customBedOption,this.curActiveBedOption=this.curBedOption}})};e.default=c}).call(this,i("6e42")["default"])},"73ae":function(t,e,i){},"8ac4":function(t,e,i){"use strict";i.r(e);var n=i("65c7"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=s.a},"9f41":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"add_bed_page"},[i("view",{staticClass:"title"},[t._v("选择床铺")]),t.defaultBedOptions.length>0?i("view",{staticClass:"bed-default-option"},t._l(t.defaultBedOptions,function(e,n){return i("view",{key:n,staticClass:"option-item",class:{"option-item-active":t.curActiveBedOption&&t.curActiveBedOption.option==e.option},attrs:{eventid:"539703e4-0-"+n},on:{tap:function(i){i.stopPropagation(),t.checkBedOption(e)}}},[i("view",{staticClass:"bed-type",domProps:{textContent:t._s("double"==e.type?"双人床":"单人床")}}),i("view",{staticClass:"bed-size"},[t._v("宽"+t._s(e.weight)+"m长"+t._s(e.length)+"m")])])})):t._e(),t.CustomBedOption?t._e():i("view",{staticClass:"add-other-bed",attrs:{eventid:"539703e4-1"},on:{tap:function(e){e.stopPropagation(),t.otherBed("add")}}},[i("text",{staticClass:"iconfont icon-jia"},[t._v("其他类型和尺寸")])]),t.CustomBedOption?i("view",{staticClass:"bed-other-option",class:{"option-item-active":t.curActiveBedOption&&t.curActiveBedOption.option==t.CustomBedOption.option},attrs:{eventid:"539703e4-3"},on:{tap:function(e){e.stopPropagation(),t.checkBedOption(t.CustomBedOption)}}},[i("view",{staticClass:"left"},["double"==t.CustomBedOption.type?i("view",{staticClass:"bed-type"},[t._v("双人床")]):"single"==t.CustomBedOption.type?i("view",{staticClass:"bed-type"},[t._v("单人床")]):"sofa"==t.CustomBedOption.type?i("view",{staticClass:"bed-type"},[t._v("沙发")]):"canopy"==t.CustomBedOption.type?i("view",{staticClass:"bed-type"},[t._v("双层床")]):"tatami"==t.CustomBedOption.type?i("view",{staticClass:"bed-type"},[t._v("榻榻米")]):"other"==t.CustomBedOption.type?i("view",{staticClass:"bed-type"},[t._v("其他")]):t._e(),i("view",{staticClass:"bed-size"},[t._v("宽"+t._s(t.CustomBedOption.weight)+"m长"+t._s(t.CustomBedOption.length)+"m")])]),i("view",{staticClass:"edit-other-type",attrs:{eventid:"539703e4-2"},on:{tap:function(e){e.stopPropagation(),t.otherBed("edit",t.CustomBedOption)}}},[t._v("编辑")])]):t._e(),i("view",{staticClass:"bed-number-wrap"},[i("view",{staticClass:"main-box"},[i("text",[t._v("同规格床铺数")]),i("view",{staticClass:"number-control"},[i("view",{staticClass:"reduce-btn",class:{"dis-num":t.bedNumber<=1},attrs:{eventid:"539703e4-4"},on:{click:function(e){e.stopPropagation(),t.checkBedNumber(0)}}},[i("text",{staticClass:"iconfont icon-jian"})]),i("view",{staticClass:"bed-num"},[i("text",[t._v(t._s(t.bedNumber))]),t._v("张")]),i("view",{staticClass:"add-btn",class:{"dis-num":t.bedNumber>=99},attrs:{eventid:"539703e4-5"},on:{click:function(e){e.stopPropagation(),t.checkBedNumber(1)}}},[i("text",{staticClass:"iconfont icon-jia"})])])]),i("view",{staticClass:"tips"},[t._v("如果有相同类型和尺寸的床铺,可以设置同规格床铺数而不需要重复添加.如无需要,请填写1张")])]),i("button",{staticClass:"my-btn-block",class:{dis_btn:!t.curActiveBedOption},staticStyle:{"margin-top":"40rpx"},attrs:{eventid:"539703e4-6"},on:{tap:t.submitAddBed}},[t._v("确定")])],1)},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},b926:function(t,e,i){}},[["1a79","common/runtime","common/vendor"]]]);